<?xml version="1.0" encoding="utf-8" ?>
<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/">
  <sitecore>
    <pipelines>     
      <group groupName="ExperienceProfileContactDataSourceQueries">
        <pipelines>
          <visitedanimals-query>
            <processor type="MikeRobbins.SUGCON.Beacons.Website.Xdb.Query.GetVisitedAnimalData, MikeRobbins.SUGCON.Beacons.Website" />
          </visitedanimals-query>
        </pipelines>
      </group>
      <group groupName="ExperienceProfileContactViews">
        <pipelines>
          <visitedanimals>
            <processor type="MikeRobbins.SUGCON.Beacons.Website.Xdb.Query.ConstructVisitedAnimalsDataTable, MikeRobbins.SUGCON.Beacons.Website" />
            <processor type="Sitecore.Cintel.Reporting.Processors.ExecuteReportingServerDatasourceQuery, Sitecore.Cintel">
              <param desc="queryName">visitedanimals-query</param>
            </processor>
            <processor type="MikeRobbins.SUGCON.Beacons.Website.Xdb.Query.PopulateWithVisitedAnimalsData, MikeRobbins.SUGCON.Beacons.Website" />
          </visitedanimals>
        </pipelines>
      </group>
    </pipelines>

    <model>
      <elements>
        <element interface="MikeRobbins.SUGCON.Beacons.Website.Xdb.Elements.IVisitedAnimalElement, MikeRobbins.SUGCON.Beacons.Website" implementation="MikeRobbins.SUGCON.Beacons.Website.Xdb.Elements.VisitedAnimalElement, MikeRobbins.SUGCON.Beacons.Website" />
        <element interface="MikeRobbins.SUGCON.Beacons.Website.Xdb.Facets.IZooVisitFacet, MikeRobbins.SUGCON.Beacons.Website" implementation="MikeRobbins.SUGCON.Beacons.Website.Xdb.Facets.ZooVisitFacet, MikeRobbins.SUGCON.Beacons.Website" />
      </elements>

      <entities>
        <contact>
          <facets>
            <facet name="ZooVisit" contract="MikeRobbins.SUGCON.Beacons.Website.Xdb.Facets.IZooVisitFacet, MikeRobbins.SUGCON.Beacons.Website" />
          </facets>
        </contact>
      </entities>
    </model>
  </sitecore>
</configuration>